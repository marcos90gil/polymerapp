<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="my-datasource">

	<template>
		<iron-ajax
		    auto
		    url="http://localhost:3000/apiv1/items"
		    handle-as="json"
		    on-response="ajaxResponse"
		    debounce-duration="300">
		</iron-ajax>
	</template>
	
	<script>
	    (function() {
			'use strict';

			Polymer({
				is : 'my-datasource',

				properties : {
				  element : {
				  	type : String,
				  },
				  category : {
				  	type : String,
				  },
				  data : {
				    type : Array,
				    notify : true
				  }
				},

				ajaxResponse : function (data) {
					console.log('Datasource input', this.category, this.element);
					this.data = data.detail.response.data;
					console.log('Datasource output', this.data);
				}
			});
	    })();
  </script>

</dom-module>


